<!-- eslint-disable @angular-eslint/template/interactive-supports-focus -->
<!-- eslint-disable @angular-eslint/template/click-events-have-key-events -->
<!-- profile.component.html -->
<div class="flex flex-col items-center p-6 bg-[#2D2D3A] min-h-screen text-white">
    <button class="absolute top-8 left-6 p-2 bg-gray-700 rounded-full">
        â¬…
    </button>
      
    <div class="relative mt-20">
        <div class="w-24 h-24 rounded-full border-4 border-gray-700 bg-gray-800 flex items-center justify-center shadow-lg">
          <img class="w-full h-full rounded-full" src="assets/profile-icon.jpg" alt="Avatar">
        </div>
        <button class="absolute bottom-0 right-0 bg-gray-800 p-2 rounded-full border border-gray-700 shadow-md">
          ðŸ“· 
        </button>
    </div>
    <h2 class="text-xl font-semibold mt-2">{{ user?.name }}</h2>
    <p class="text-sm text-gray-400">Edit Profile</p>
  
    <form [formGroup]="profileForm" class="w-full max-w-sm mt-6">
        <label class="block mb-2" for="full-name">Full name</label>
        <input id="full-name" formControlName="name" class="w-full p-4 h-14 rounded-lg bg-[rgba(57,57,72,1)] text-white focus:outline-none mb-4" type="text">
        <fd-form-error [control]="profileForm.get('name')" fieldName="Name"></fd-form-error>

        <label class="block mb-2" for="email">E-mail</label>
        <input id="email" formControlName="email" class="w-full p-4 h-14 rounded-lg bg-[rgba(57,57,72,1)] text-white focus:outline-none mb-4" type="email">
        <fd-form-error [control]="profileForm.get('email')" fieldName="Email"></fd-form-error>

        <label class="block mb-2" for="phone-number">Phone Number</label>
        <input id="phone-number" formControlName="phoneNumber" class="w-full p-4 h-14 rounded-lg bg-[rgba(57,57,72,1)] text-white focus:outline-none mb-6" type="text">
        <fd-form-error [control]="profileForm.get('phoneNumber')" fieldName="Phone Number"></fd-form-error>

        <label class="block mb-2" for="city">City</label>
        <input id="city" formControlName="city" class="w-full p-4 h-14 rounded-lg bg-[rgba(57,57,72,1)] text-white focus:outline-none mb-4" type="text" placeholder="Enter city">

        <div class="relative w-full">
            <input id="novaPostDepartment" formControlName="novaPostDepartment"
                   class="w-full p-4 h-14 rounded-lg bg-[rgba(57,57,72,1)] text-white focus:outline-none mb-6"
                   type="text" placeholder="Choose department"
                  (keydown.enter)="onEnterPress($event)">
                  
            <ul *ngIf="warehouses?.length"
                class="absolute left-0 bg-white text-black p-2 rounded-lg max-h-48 overflow-y-auto w-full mt-1 border border-red-500"
                tabindex="0">
              <li *ngFor="let warehouse of warehouses" 
                  (click)="selectWarehouse(warehouse.Description)"
                  class="cursor-pointer p-2 hover:bg-gray-700">
                {{ warehouse.Description }}
              </li>
            </ul>    
        </div>          

        <button class="mx-auto w-60 block bg-orange-500 px-10 py-4 mt-8 rounded-full text-white font-semibold shadow-lg hover:bg-orange-400 transition-all" (click)="editUser()">SAVE</button>
    </form>
 </div>
